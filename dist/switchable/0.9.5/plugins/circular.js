define("#switchable/0.9.5/plugins/circular",["#zepto/0.9.0/zepto","#switchable/0.9.5/plugins/effects"],function(e,t,n){function u(e,t,n){var i=this.get("step"),s=this.get("length"),o=e?s-1:0,u=o*i,a=(o+1)*i,f=e?n:-n*s,l=r(this.panels.get().slice(u,a));return l.css("position","relative"),l.css(t,-f+"px"),f}function a(e,t,n){var i=this.get("step"),s=this.get("length"),o=e?s-1:0,u=o*i,a=(o+1)*i,f=r(this.panels.get().slice(u,a));f.css("position",""),f.css(t,""),this.content.css(t,e?-n*(s-1):"")}var r=e("#zepto/0.9.0/zepto"),i="scrollx",s="scrolly",o=e("#switchable/0.9.5/plugins/effects").Effects;n.exports={isNeeded:function(){var e=this.get("effect"),t=this.get("circular");return t&&(e===i||e===s)},install:function(){this.set("scrollType",this.get("effect")),this.set("effect","scrollCircular")}},o.scrollCircular=function(e){var t=e.toIndex,n=e.fromIndex,r=this.get("length"),s=n===0&&t===r-1,o=n===r-1&&t===0,f=s||!o&&t<n,l=s||o,c=this.get("scrollType")===i,h=c?"left":"top",p=this.get("viewSize")[c?0:1],d=-p*t;this.anim,l&&(d=u.call(this,f,h,p));var v={};v[h]=d+"px";if(n>-1){var m=this.get("duration"),g=this.get("easing"),y=this;this.anim=this.content.animate(v,m,g,function(){y.anim=null,l&&a.call(y,f,h,p)})}else this.content.css(v)}});