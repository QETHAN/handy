define("#flip/0.9.5/flip",["widget","$"],function(a,b,c){var d=a("widget"),e=a("$"),f;c.exports=f=d.extend({attrs:{element:null,direction:"ltr",frontNode:null,backNode:null,containerCSS:{"-webkit-perspective":"1000","-webkit-perspective-origin":"50% 50%",readonly:!0},flipCSS:{"-webkit-transform-style":"preserve-3d","-webkit-transition":"-webkit-transform 0.8s ease",position:"relative",readonly:!0},faceCSS:{position:"absolute",left:0,top:0,display:"block",readonly:!0},triggers:[]},parseElement:function(){f.superclass.parseElement.call(this),this.set("frontNode",this.element.find("*[data-flip-role=frontFace]")||null),this.set("backNode",this.element.find("*[data-flip-role=backFace]")||null);var a=this.element.find("*[data-flip-role=trigger]");for(i=0;i<a.length;i++){var b=this.get("triggers");b.push(a[i]),this.set("triggers",b)}this._wrapFlip()},setup:function(){this._initCSS()},delegateEvents:function(){f.superclass.delegateEvents.call(this);var a,b,c=this;for(a in this.get("triggers")){b=e(this.get("triggers")[a]).data("flipAction")||"flipBack";switch(b){case"flipFront":e(this.get("triggers")[a]).bind("click.flip",function(a){a.preventDefault(),c.flip("front")});break;case"flipBack":default:e(this.get("triggers")[a]).bind("click.flip",function(a){a.preventDefault(),c.flip("back")})}}},flip:function(a){if(this._animating||!this.element||a==this.face)return;this.face=a||"back",this._startFlip()},_startFlip:function(){var a=this;switch(this.get("direction")){case"ltr":switch(this.face){case"front":this._startCSS={"-webkit-transform":"rotateY(180deg)"},this._endCSS={"-webkit-transform":"rotateY(0deg)"};break;case"back":default:this._startCSS={"-webkit-transform":"rotateY(0deg)"},this._endCSS={"-webkit-transform":"rotateY(180deg)"}}break;default:switch(this.face){case"front":this._startCSS={"-webkit-transform":"rotateY(180deg)"},this._endCSS={"-webkit-transform":"rotateY(0deg)"};break;case"back":default:this._startCSS={"-webkit-transform":"rotateY(0deg)"},this._endCSS={"-webkit-transform":"rotateY(180deg)"}}}e(this.viewport).css(this._startCSS),this._animating=!0,this.trigger("transitionStart",this),e(this.viewport).bind("webkitTransitionEnd",function(){a._end()}),e(this.viewport).css(this._endCSS)},_end:function(){this.trigger("transitionEnd",this),this._removeEvent(),this._animating=!1},_wrapFlip:function(){var a=e(this.srcNode),b=e('<div data-flip-role="viewport"></div>');e(this.get("frontNode")).wrapAll(b),e(this.get("backNode")).wrapAll(b),this.viewport=e(b,a)},_initCSS:function(){this.element.css(this.get("containerCSS")),e(this.viewport).css(this.get("flipCSS")),e(this.get("frontNode")).css(this.get("faceCSS")),e(this.get("backNode")).css(this.get("faceCSS")),this.get("frontNode")&&e(this.get("frontNode")).css({"-webkit-transform":"rotateY(0deg)","-webkit-backface-visibility":"hidden"}),this.get("backNode")&&e(this.get("backNode")).css({"-webkit-transform":"rotateY(180deg)","-webkit-backface-visibility":"hidden"})},_removeEvent:function(){e(this.viewport).unbind("webkitTransitionEnd")}})});