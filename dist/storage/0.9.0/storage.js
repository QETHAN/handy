define("#storage/0.9.0/storage",["#events/0.9.1/events"],function(e,t,n){var r=e("#events/0.9.1/events"),i=t,s=[],o=null,u=null;r.mixTo(i),i.available=!!localStorage||!!sessionStorage,i.available&&(o=localStorage,u=sessionStorage),i.set=function(e,t){o.getItem("keys")&&(s=o.getItem("keys").split(",")||[]);if(s.indexOf(e)===-1){var n=i.keys();n.push(e),o.setItem("keys",n)}if(i.available){if(t===null)return i.remove(e);o.setItem(e,t)}},i.get=function(e){return o.getItem(e)},i.keys=function(){var e=o.getItem("keys");return e?e.split(","):[]},i.remove=function(e){var t=e,n=i.keys();i.trigger("remove:"+e,{key:t}),o.removeItem(t),n.forEach(function(e,r){if(e===t)return n.splice(r,1),!1}),o.setItem("keys",n)},i.clear=function(){var e=i.keys();e.forEach(function(e){o.removeItem(e)}),o.removeItem("keys"),i.trigger("clear")},window.addEventListener("storage",function(e){var t=i.keys(),n=e.key;t.indexOf(n)!==-1&&i.trigger("change:"+n,e),e.newValue==="null"&&i.Key(n)},!1)});