define("#storage/0.9.0/storage",["events"],function(a,b,c){var d=a("events"),e=b,f=[],g=null,h=null;d.mixTo(e),e.available=!!localStorage||!!sessionStorage,e.available&&(g=localStorage,h=sessionStorage),e.set=function(a,b){g.getItem("keys")&&(f=g.getItem("keys").split(",")||[]);if(f.indexOf(a)===-1){var c=e.keys();c.push(a),g.setItem("keys",c)}if(e.available){if(b===null)return e.remove(a);g.setItem(a,b)}},e.get=function(a){return g.getItem(a)},e.keys=function(){var a=g.getItem("keys");return a?a.split(","):[]},e.remove=function(a){var b=a,c=e.keys();e.trigger("remove:"+a,{key:b}),g.removeItem(b),c.forEach(function(a,d){if(a===b)return c.splice(d,1),!1}),g.setItem("keys",c)},e.clear=function(){var a=e.keys();a.forEach(function(a){g.removeItem(a)}),g.removeItem("keys"),e.trigger("clear")},window.addEventListener("storage",function(a){var b=e.keys(),c=a.key;b.indexOf(c)!==-1&&e.trigger("change:"+c,a),a.newValue==="null"&&e.Key(c)},!1)});